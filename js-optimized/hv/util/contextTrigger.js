define(["jquery"],function(){var e;return e={events:{}},e.add=function(t,n){e.events[t]||(e.events[t]=[]),e.events[t].push(n),e.run(t,n)},e.remove=function(t,n){if(!e.events[t])return!1;if(!n)e.events[t]=null;else for(var r in e.events[t])e.events[t][r]===n&&(e.events[t][r]=null)},e.run=function(t,n){t=t||"body";var r,i=$(t);r=function(){e.events[s][u].call(this)};if(!i.length)return!1;for(var s in e.events){var o=i.is(s)?i:i.find(s);if(o.length)for(var u in e.events[s]){if(n&&e.events[s][u]!==n)return!1;o.each(r)}}},e})